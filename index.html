<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>meVsrep – Hooper City</title>
    <style>
        body {font-family:Arial,sans-serif;max-width:900px;margin:0 auto;padding:20px}
        h1,h2,h3{text-align:center}
        .sel{text-align:center;margin:20px 0}
        select{padding:8px;font-size:16px}
        .section{margin:20px 0;padding:15px;border:1px solid #ddd;border-radius:5px;display:none}
        .issue{margin:10px 0;padding:10px;background:#f9f9f9}
        .disclaimer{font-size:.9em;color:#666;text-align:center;margin-top:20px}

        /* RESULTS: Always visible */
        #results-section {text-align:center; margin:30px 0;}
        .charts-container {display:flex; flex-wrap:wrap; justify-content:center; gap:20px; margin:20px 0;}
        .chart-box {flex:1 1 350px; max-width:400px; text-align:center;}
        .chart-box h3 {margin:10px 0 5px; font-size:1.2em; font-weight:bold;}
        .chart-box iframe {width:400px; height:400px; border:0; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1);}

        /* FORM: Hidden until district selected */
        #form-section {display:none; text-align:center; margin-top:30px;}
        .form-wrapper {position:relative; padding-bottom:90%; height:0; overflow:hidden;}
        .form-wrapper iframe {position:absolute; top:0; left:0; width:100%; height:100%; border:0; border-radius:8px;}

        /* Mobile: Stack charts */
        @media (max-width: 768px) {
            .chart-box {flex:1 1 100%; max-width:100%;}
            .chart-box iframe {width:100%; max-width:400px; height:400px; margin:0 auto; display:block;}
        }
    </style>
</head>
<body>

    <h1>meVsrep – Hooper City</h1>
    <p style="text-align:center">Vote below to tell your councilmember how to vote on rescinding the Mayor’s powers.
        <br><br>
        Scroll to bottom to select your District and vote.
        <br><br>
        Community-driven, not official.
    </p>

    <!-- ====================== LIVE RESULTS: ALWAYS VISIBLE ====================== -->
    <div id="results-section">
        <h2>Live Results </h2>
        <p style="font-size:0.9em; color:#666; text-align:center;">Updates automatically as votes come in</p>

        <div class="charts-container">
            <!-- District 1 – Lisa Northrop -->
            <div class="chart-box">
                <h3>District 1 – Lisa Northrop</h3>
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRhNELutgY3RQNa8JlE17WSlp27msx9nJ3hntgHC2LUqoaiJNhzAr-Va21ZQKGjUVFRonbWTGTUCd0k/pubchart?oid=241493125&format=interactive" allowfullscreen></iframe>
            </div>

            <!-- At-Large – Ryan Hill -->
            <div class="chart-box">
                <h3>At-Large – Ryan Hill</h3>
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRhNELutgY3RQNa8JlE17WSlp27msx9nJ3hntgHC2LUqoaiJNhzAr-Va21ZQKGjUVFRonbWTGTUCd0k/pubchart?oid=1215085439&format=interactive" allowfullscreen></iframe>
            </div>

            <!-- District 2 – Bryce Wilcox -->
            <div class="chart-box">
                <h3>District 2 – Bryce Wilcox</h3>
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRhNELutgY3RQNa8JlE17WSlp27msx9nJ3hntgHC2LUqoaiJNhzAr-Va21ZQKGjUVFRonbWTGTUCd0k/pubchart?oid=90207625&format=interactive" allowfullscreen></iframe>
            </div>

            <!-- At-Large – Dale Fowers -->
            <div class="chart-box">
                <h3>At-Large – Dale Fowers</h3>
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRhNELutgY3RQNa8JlE17WSlp27msx9nJ3hntgHC2LUqoaiJNhzAr-Va21ZQKGjUVFRonbWTGTUCd0k/pubchart?oid=79625291&format=interactive" allowfullscreen></iframe>
            </div>

            <!-- District 3 – Debra Marigoni -->
            <div class="chart-box">
                <h3>District 3 – Debra Marigoni</h3>
                <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRhNELutgY3RQNa8JlE17WSlp27msx9nJ3hntgHC2LUqoaiJNhzAr-Va21ZQKGjUVFRonbWTGTUCd0k/pubchart?oid=1090997197&format=interactive" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- ====================== DISTRICT SELECTOR ====================== -->
    <div class="sel">
        <input type="checkbox" id="res"> I confirm I’m a Hooper City resident.
        <br><br>
        <label for="dist">Your District: </label>
        <select id="dist" onchange="show()">
            <option value="">– Select –</option>
            <option value="1">District 1</option>
            <option value="2">District 2</option>
            <option value="3">District 3</option>
        </select>
        <br><br>
    </div>

    <!-- DISTRICT SECTIONS (hidden until selected) -->
    <div id="d1" class="section">
        <h2>District 1 – Lisa Northrop</h2>
        <div class="issue">
            <strong>Do you want Lisa Northrop to support rescinding the Mayor’s powers?</strong><br>
            (Vote Below in the Form)
        </div>
    </div>

    <div id="d2" class="section">
        <h2>District 2 – Bryce Wilcox</h2>
        <div class="issue">
            <strong>Do you want Bryce Wilcox to support rescinding the Mayor’s powers?</strong><br>
            (Vote below in the form.)
        </div>
    </div>

    <div id="d3" class="section">
        <h2>District 3 – Debra Marigoni</h2>
        <div class="issue">
            <strong>Do you want Debra Marigoni to support rescinding the Mayor’s powers?</strong><br>
            (Vote below in the form.)
        </div>
    </div>

    <!-- VOTING FORM (shown after district) -->
    <div id="form-section">
        <h2>Vote Here</h2>
        <div class="form-wrapper">
            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdIrK_1t8yUU-yPaZkUpQx1t8VpDyzA2w4_I04pyDs4gVWbZg/viewform?embedded=true" allowfullscreen></iframe>
        </div>
    </div>

    <div class="disclaimer">
         1 vote per Voter Registered on voting rolls. Community-driven, not official.
    </div>

    <script>
        function show() {
            const d = document.getElementById('dist').value;
            const resident = document.getElementById('res').checked;

            // Hide district sections and form
            document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
            document.getElementById('form-section').style.display = 'none';

            if (!d) return;
            if (!resident) { alert('Please confirm residency.'); return; }

            // Show selected district and form
            document.getElementById('d' + d).style.display = 'block';
            document.getElementById('form-section').style.display = 'block';
        }
    </script>
</body>
</html>
